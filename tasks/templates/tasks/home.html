{% extends 'base.html' %}
{% load static %}

{% block title %}Tasks{% endblock %}

{% block sidebar %}
    <ul id="tasks-list">
        {% for task in tasks %}
        <li data-url="{% url 'task_detail' task.id %}" onclick="getTaskDetail(this);">{{ task.title }}</li>
        {% endfor %}
    </ul>
{% endblock %}

{% block content %}
    <form id="add-task" method="POST" action="{% url 'new_task' %}">
        {% csrf_token %}
        {{ form.errors }}
        {{ form.title }}
        {{ form.description }}
        {{ form.performers }}
        <div id="deadline">
            <label for="id_deadline">{{ form.deadline.label }}:</label>
            {{ form.deadline }}
        </div>
        <input type="submit" id="add-task-btn" value="Add">
    </form>
    <div id="task-detail-container"></div>
    <script src="{% static 'tasks/scripts/task_detail.js' %}"></script>
{% endblock %}
